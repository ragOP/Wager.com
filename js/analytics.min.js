(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>u});var n=function(){var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)};function t(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))}function n(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function r(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function o(e,t){return e(t={exports:{}},t.exports),t.exports}for(var a=o((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)!(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),i=[],c=0;c<256;++c)i[c]=(c+256).toString(16).substr(1);var u,s,l=function(e,t){var n=t||0,r=i;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},d=0,f=0,g=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||l(o)},p=g;p.v1=function(e,t,n){var r=t&&n||0,o=t||[],i=(e=e||{}).node||u,c=void 0!==e.clockseq?e.clockseq:s;if(null==i||null==c){var g=a();null==i&&(i=u=[1|g[0],g[1],g[2],g[3],g[4],g[5]]),null==c&&(c=s=16383&(g[6]<<8|g[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:f+1,m=p-d+(h-f)/1e4;if(m<0&&void 0===e.clockseq&&(c=c+1&16383),(m<0||p>d)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=p,f=h,s=c;var v=(1e4*(268435455&(p+=122192928e5))+h)%4294967296;o[r++]=v>>>24&255,o[r++]=v>>>16&255,o[r++]=v>>>8&255,o[r++]=255&v;var y=p/4294967296*1e4&268435455;o[r++]=y>>>8&255,o[r++]=255&y,o[r++]=y>>>24&15|16,o[r++]=y>>>16&255,o[r++]=c>>>8|128,o[r++]=255&c;for(var w=0;w<6;++w)o[r+w]=i[w];return t||l(o)},p.v4=g;var h=p.v4,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function v(){var e,t={},n=[],r=[],o=[],a=function(e,n){null!=n&&""!==n&&(t[e]=n)};return{add:a,addDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a(t,e[t])},addJson:function(e,t,o){if(o&&w(o)){var a={keyIfEncoded:e,keyIfNotEncoded:t,json:o};r.push(a),n.push(a)}},addContextEntity:function(e){o.push(e)},getPayload:function(){return t},getJson:function(){return n},withJsonProcessor:function(t){e=t},build:function(){return null==e||e(this,r,o),t}}}function y(e){return function(t,n,o){for(var a=function(n,r,o){var a=JSON.stringify(n);e?t.add(r,function(e){if(!e)return e;var t=function(e){var t,n,r,o,a,i=0,c=0,u=[];if(!e)return e;e=unescape(encodeURIComponent(e));do{t=(a=e.charCodeAt(i++)<<16|e.charCodeAt(i++)<<8|e.charCodeAt(i++))>>18&63,n=a>>12&63,r=a>>6&63,o=63&a,u[c++]=m.charAt(t)+m.charAt(n)+m.charAt(r)+m.charAt(o)}while(i<e.length);var s=u.join(""),l=e.length%3;return(l?s.slice(0,l-3):s)+"===".slice(l||3)}(e);return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(a)):t.add(o,a)},i=function(n,r){var o=n||function(){var n=t.getPayload();if(e?n.cx:n.co)return JSON.parse(e?function(e){if(!e)return e;switch(4-e.length%4){case 2:e+="==";break;case 3:e+="="}return function(e){var t,n,r,o,a,i,c=0,u=0,s=[];if(!e)return e;e+="";do{t=(i=m.indexOf(e.charAt(c++))<<18|m.indexOf(e.charAt(c++))<<12|(o=m.indexOf(e.charAt(c++)))<<6|(a=m.indexOf(e.charAt(c++))))>>16&255,n=i>>8&255,r=255&i,s[u++]=64===o?String.fromCharCode(t):64===a?String.fromCharCode(t,n):String.fromCharCode(t,n,r)}while(c<e.length);return function(e){return decodeURIComponent(e.split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(s.join("").replace(/\0+$/,""))}(e.replace(/-/g,"+").replace(/_/g,"/"))}(n.cx):n.co)}();return o?o.data=o.data.concat(r.data):o=r,o},c=void 0,u=0,s=n;u<s.length;u++){var l=s[u];"cx"===l.keyIfEncoded?c=i(c,l.json):a(l.json,l.keyIfEncoded,l.keyIfNotEncoded)}n.length=0,o.length&&(c=i(c,{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:r([],o,!0)}),o.length=0),c&&a(c,"cx","co")}}function w(e){if(!_(e))return!1;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function _(e){return null!=e&&(e.constructor==={}.constructor||e.constructor===[].constructor)}var b,x="Snowplow: ";!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.debug=3]="debug",e[e.info=4]="info"}(b||(b={}));var k=function(e){return void 0===e&&(e=b.warn),{setLogLevel:function(t){e=b[t]?t:b.warn},warn:function(t,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(e>=b.warn&&"undefined"!=typeof console){var i=x+t;n?console.warn.apply(console,r([i+"\n",n],o,!1)):console.warn.apply(console,r([i],o,!1))}},error:function(t,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(e>=b.error&&"undefined"!=typeof console){var i=x+t+"\n";n?console.error.apply(console,r([i+"\n",n],o,!1)):console.error.apply(console,r([i],o,!1))}},debug:function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e>=b.debug&&"undefined"!=typeof console&&console.debug.apply(console,r([x+t],n,!1))},info:function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];e>=b.info&&"undefined"!=typeof console&&console.info.apply(console,r([x+t],n,!1))}}}();function S(e){var t=e.split(".");return!!(t&&t.length>1)&&function(e){if("*"===e[0]||"*"===e[1])return!1;if(e.slice(2).length>0){for(var t=!1,n=0,r=e.slice(2);n<r.length;n++)if("*"===r[n])t=!0;else if(t)return!1;return!0}return 2==e.length}(t)}function T(e){var t=new RegExp("^iglu:((?:(?:[a-zA-Z0-9-_]+|\\*).)+(?:[a-zA-Z0-9-_]+|\\*))/([a-zA-Z0-9-_.]+|\\*)/jsonschema/([1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)-(0|[1-9][0-9]*|\\*)$").exec(e);if(null!==t&&S(t[1]))return t.slice(1,6)}function C(e){var t=T(e);if(t){var n=t[0];return 5===t.length&&S(n)}return!1}function L(e){return function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))}(e)?e.every((function(e){return C(e)})):"string"==typeof e&&C(e)}function I(e){var t=e;return!!(w(t)&&"schema"in t&&"data"in t)&&"string"==typeof t.schema&&"object"==typeof t.data}function O(e){return"function"==typeof e&&e.length<=1}function P(e){return O(e)||I(e)}function A(e){return!(!Array.isArray(e)||2!==e.length)&&(Array.isArray(e[1])?O(e[0])&&e[1].every(P):O(e[0])&&P(e[1]))}function j(e){return!(!Array.isArray(e)||2!==e.length)&&!!function(e){var t=e,n=0;if(null!=e&&"object"==typeof e&&!Array.isArray(e)){if(Object.prototype.hasOwnProperty.call(t,"accept")){if(!L(t.accept))return!1;n+=1}if(Object.prototype.hasOwnProperty.call(t,"reject")){if(!L(t.reject))return!1;n+=1}return n>0&&n<=2}return!1}(e[0])&&(Array.isArray(e[1])?e[1].every(P):P(e[1]))}function E(e){return A(e)||j(e)}function D(e,t){if(!C(e))return!1;var n=T(e),r=function(e){var t=new RegExp("^iglu:([a-zA-Z0-9-_.]+)/([a-zA-Z0-9-_]+)/jsonschema/([1-9][0-9]*)-(0|[1-9][0-9]*)-(0|[1-9][0-9]*)$").exec(e);if(null!==t)return t.slice(1,6)}(t);if(n&&r){if(!function(e,t){var n=t.split("."),r=e.split(".");if(n&&r){if(n.length!==r.length)return!1;for(var o=0;o<r.length;o++)if(!N(n[o],r[o]))return!1;return!0}return!1}(n[0],r[0]))return!1;for(var o=1;o<5;o++)if(!N(n[o],r[o]))return!1;return!0}return!1}function N(e,t){return e&&t&&"*"===e||e===t}function R(e){return Array.isArray(e)?e:Array.of(e)}function B(e,t,n,r){var o,a=R(e).map((function(e){var o=function(e,t,n,r){if(I(e))return[e];if(O(e)){var o=function(e,t,n,r){var o=void 0;try{return o=e({event:t.getPayload(),eventType:n,eventSchema:r}),Array.isArray(o)&&o.every(I)||I(o)?o:void 0}catch(e){o=void 0}return o}(e,t,n,r);if(I(o))return[o];if(Array.isArray(o))return o}}(e,t,n,r);if(o&&0!==o.length)return o}));return(o=[]).concat.apply(o,a.filter((function(e){return null!=e&&e.filter(Boolean)})))}function M(t){void 0===t&&(t={});var n=t.base64,o=t.corePlugins,a=t.callback,i=null!=o?o:[],c=function(e,t,n){var o=function(e){return{addPluginContexts:function(t){var n=t?r([],t,!0):[];return e.forEach((function(e){try{e.contexts&&n.push.apply(n,e.contexts())}catch(e){k.error("Error adding plugin contexts",e)}})),n}}}(t),a=function(){var e=[],t=[],n=function(n){var r=function(e){for(var t=0,n=e.getJson();t<n.length;t++){var r=n[t];if("ue_px"===r.keyIfEncoded&&"object"==typeof r.json.data){var o=r.json.data.schema;if("string"==typeof o)return o}}return""}(n),o=function(e){var t=e.getPayload().e;return"string"==typeof t?t:""}(n),a=[],i=B(e,n,o,r);a.push.apply(a,i);var c=function(e,t,n,r){var o,a=R(e).map((function(e){var o=function(e,t,n,r){if(A(e)){var o=e[0],a=!1;try{a=o({event:t.getPayload(),eventType:n,eventSchema:r})}catch(e){a=!1}if(!0===a)return B(e[1],t,n,r)}else if(j(e)&&function(e,t){var n=0,r=0,o=e.accept;Array.isArray(o)?e.accept.some((function(e){return D(e,t)}))&&r++:"string"==typeof o&&D(o,t)&&r++;var a=e.reject;return Array.isArray(a)?e.reject.some((function(e){return D(e,t)}))&&n++:"string"==typeof a&&D(a,t)&&n++,r>0&&0===n}(e[0],r))return B(e[1],t,n,r);return[]}(e,t,n,r);if(o&&0!==o.length)return o}));return(o=[]).concat.apply(o,a.filter((function(e){return null!=e&&e.filter(Boolean)})))}(t,n,o,r);return a.push.apply(a,c),a};return{getGlobalPrimitives:function(){return e},getConditionalProviders:function(){return t},addGlobalContexts:function(n){for(var r=[],o=[],a=0,i=n;a<i.length;a++){var c=i[a];E(c)?r.push(c):P(c)&&o.push(c)}e=e.concat(o),t=t.concat(r)},clearGlobalContexts:function(){t=[],e=[]},removeGlobalContexts:function(n){for(var r=function(n){E(n)?t=t.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})):P(n)&&(e=e.filter((function(e){return JSON.stringify(e)!==JSON.stringify(n)})))},o=0,a=n;o<a.length;o++)r(a[o])},getApplicableContexts:function(e){return n(e)}}}(),i=e,c={};function u(e,t){c[e]=t}var s={track:function(e,r,u){e.withJsonProcessor(y(i)),e.add("eid",h()),e.addDict(c);var s=function(e){return null==e?{type:"dtm",value:(new Date).getTime()}:"number"==typeof e?{type:"dtm",value:e}:"ttm"===e.type?{type:"ttm",value:e.value}:{type:"dtm",value:e.value||(new Date).getTime()}}(u);e.add(s.type,s.value.toString());var l=function(e,t){var n=a.getApplicableContexts(e),r=[];return t&&t.length&&r.push.apply(r,t),n&&n.length&&r.push.apply(r,n),r}(e,o.addPluginContexts(r)),d=function(e){if(e&&e.length)return{schema:"iglu:com.snowplowanalytics.snowplow/contexts/jsonschema/1-0-0",data:e}}(l);void 0!==d&&e.addJson("cx","co",d),t.forEach((function(t){try{t.beforeTrack&&t.beforeTrack(e)}catch(e){k.error("Plugin beforeTrack",e)}})),"function"==typeof n&&n(e);var f=e.build();return t.forEach((function(e){try{e.afterTrack&&e.afterTrack(f)}catch(e){k.error("Plugin afterTrack",e)}})),f},addPayloadPair:u,getBase64Encoding:function(){return i},setBase64Encoding:function(e){i=e},addPayloadDict:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(c[t]=e[t])},resetPayloadPairs:function(e){c=_(e)?e:{}},setTrackerVersion:function(e){u("tv",e)},setTrackerNamespace:function(e){u("tna",e)},setAppId:function(e){u("aid",e)},setPlatform:function(e){u("p",e)},setUserId:function(e){u("uid",e)},setScreenResolution:function(e,t){u("res",e+"x"+t)},setViewport:function(e,t){u("vp",e+"x"+t)},setColorDepth:function(e){u("cd",e)},setTimezone:function(e){u("tz",e)},setLang:function(e){u("lang",e)},setIpAddress:function(e){u("ip",e)},setUseragent:function(e){u("ua",e)},addGlobalContexts:function(e){a.addGlobalContexts(e)},clearGlobalContexts:function(){a.clearGlobalContexts()},removeGlobalContexts:function(e){a.removeGlobalContexts(e)}};return s}(null==n||n,i,a),u=e(e({},c),{addPlugin:function(e){var t,n,r=e.plugin;i.push(r),null===(t=r.logger)||void 0===t||t.call(r,k),null===(n=r.activateCorePlugin)||void 0===n||n.call(r,u)}});return null==i||i.forEach((function(e){var t,n;null===(t=e.logger)||void 0===t||t.call(e,k),null===(n=e.activateCorePlugin)||void 0===n||n.call(e,u)})),u}var U=o((function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(o>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}};e.exports=n}()})),F={utf8:{stringToBytes:function(e){return F.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(F.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}},V=F,G=o((function(e){var t,n,r,o;t=U,n=V.utf8,r=V.bin,o=function(e,o){var a=t.wordsToBytes(function(e){e.constructor==String?e=n.stringToBytes(e):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var r=t.bytesToWords(e),o=8*e.length,a=[],i=1732584193,c=-271733879,u=-1732584194,s=271733878,l=-1009589776;r[o>>5]|=128<<24-o%32,r[15+(o+64>>>9<<4)]=o;for(var d=0;d<r.length;d+=16){for(var f=i,g=c,p=u,h=s,m=l,v=0;v<80;v++){if(v<16)a[v]=r[d+v];else{var y=a[v-3]^a[v-8]^a[v-14]^a[v-16];a[v]=y<<1|y>>>31}var w=(i<<5|i>>>27)+l+(a[v]>>>0)+(v<20?1518500249+(c&u|~c&s):v<40?1859775393+(c^u^s):v<60?(c&u|c&s|u&s)-1894007588:(c^u^s)-899497514);l=s,s=u,u=c<<30|c>>>2,c=i,i=w}i+=f,c+=g,u+=p,s+=h,l+=m}return[i,c,u,s,l]}(e));return o&&o.asBytes?a:o&&o.asString?r.bytesToString(a):t.bytesToHex(a)},o._blocksize=16,o._digestsize=20,e.exports=o}));function H(e){return!(!e||"string"!=typeof e.valueOf())}function z(e){return Number.isInteger&&Number.isInteger(e)||"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function J(e){if(!H(e)){e=e.text||"";var t=document.getElementsByTagName("title");t&&null!=t[0]&&(e=t[0].text)}return e}function q(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(e);return t?t[1]:e}function X(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e}function K(e){var t=window,n=Y("referrer",t.location.href)||Y("referer",t.location.href);if(n)return n;if(e)return e;try{if(t.top)return t.top.document.referrer;if(t.parent)return t.parent.document.referrer}catch(e){}return document.referrer}function W(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?e.attachEvent("on"+t,n):void(e["on"+t]=n)}function Y(e,t){var n=new RegExp("^[^#]*[?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null}function Q(e,t,n){void 0===n&&(n=63072e3);try{var r=window.localStorage,o=Date.now()+1e3*n;return r.setItem("".concat(e,".expires"),o.toString()),r.setItem(e,t),!0}catch(e){return!1}}function Z(e){try{var t=window.localStorage;return t.removeItem(e),t.removeItem(e+".expires"),!0}catch(e){return!1}}function $(e,t,n,r){te(e,"",-1,"/",t,n,r)}function ee(e){for(var t=document.cookie.split("; "),n=[],r=0;r<t.length;r++)t[r].substring(0,e.length)===e&&n.push(t[r]);return n}function te(e,t,n,r,o,a,i){return arguments.length>1?document.cookie=e+"="+encodeURIComponent(null!=t?t:"")+(n?"; Expires="+new Date(+new Date+1e3*n).toUTCString():"")+(r?"; Path="+r:"")+(o?"; Domain="+o:"")+(a?"; SameSite="+a:"")+(i?"; Secure":""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}var ne=function(){function e(e,t){var n,r;if(void 0===t&&(t={}),2!==e.length)throw new TypeError("External snowplow transport callback should accept payload and callback");this.send=e,this.__isReady=null!==(n=null==t?void 0:t.isReady)&&void 0!==n&&n,this.maxBytes=null!==(r=null==t?void 0:t.maxBytes)&&void 0!==r?r:0}return e.prototype.setReady=function(e){if(void 0===e&&(e=!0),this.__isReady!==e&&(this.__isReady=e,this.__isReady&&this.onReady))try{this.onReady()}catch(e){console.error("Failed to execute onReady callback",e)}},e.prototype.isReady=function(){return this.__isReady},e}();function re(e,t,n,r,o,a,i,c,u,s,l,d,f,g,p,h){var m,v,y=!1,w=[],_=!0===(r="string"==typeof r?r.toLowerCase():r)||"beacon"===r||"true"===r,b=Boolean(_&&window.navigator&&window.navigator.sendBeacon&&!(function(e,t){var n=t.match("(iP.+; CPU .*OS (d+)[_d]*.*) AppleWebKit/");return!(!n||!n.length)&&parseInt(n[0])<=13}(0,v=window.navigator.userAgent)||function(e,t,n){var r=n.match("(Macintosh;.*Mac OS X (d+)_(d+)[_d]*.*) AppleWebKit/");return!(!r||!r.length)&&(parseInt(r[0])<=10||10===parseInt(r[0])&&parseInt(r[1])<=15)}(0,0,v)&&function(e){return e.match("Version/.* Safari/")&&!function(e){return e.match("Chrom(e|ium)")}(e)}(v)))&&_,x="get"===r,S=r instanceof ne,T=Boolean(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),C=!x&&T&&("post"===r||_),L=C?o:"/i",I="snowplowOutQueue_".concat(e,"_").concat(C||S?"post2":"get");if(_&&(f={}),S&&(r.onReady=function(){y||D()}),a=n&&function(){var e="modernizr";if(!function(){try{return!!window.localStorage}catch(e){return!0}}())return!1;try{var t=window.localStorage;return t.setItem(e,e),t.removeItem(e),!0}catch(e){return!1}}()&&C&&a||1,n)try{var O=window.localStorage.getItem(I);w=O?JSON.parse(O):[]}catch(e){}function P(e){var t=Object.keys(e).map((function(t){return[t,e[t]]})).reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r.toString(),e}),{});return{evt:t,bytes:A(JSON.stringify(t))}}function A(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t+=1:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,n++):t+=r<65535?3:4}return t}Array.isArray(w)||(w=[]),t.outQueues.push(w),T&&a>1&&t.bufferFlushers.push((function(e){y||D(e)}));var j=function(e){return"object"==typeof e[0]};function E(e,t){N(t,!0,!1).send(B(M([e.evt])))}function D(e){for(void 0===e&&(e=!1);w.length&&"string"!=typeof w[0]&&"object"!=typeof w[0];)w.shift();if(w.length<1)y=!1;else{if(!S&&!H(m))throw"No collector configured";if(y=!0,S){var t=r;if(!t.isReady())return void(y=!1);var o=(f=function(e){if(t.maxBytes<=0)return e.length;for(var n=0,r=0;n<e.length&&!((r+=e[n].bytes)>=t.maxBytes);)n+=1;return n})(w),a=R(M(O=(v=w.slice(0,o)).map((function(e){return e.evt}))));t.send(a,(function(e){if(e)y=!1;else{for(var t=0;t<o;t++)w.shift();n&&Q(I,JSON.stringify(w.slice(0,s))),D()}}))}else if(T){var c,u,f=function(e){for(var t=0,n=0;t<e.length&&!((n+=e[t].bytes)>=i);)t+=1;return t},g=void 0;j(w)?(c=N(g=m,!0,e),u=f(w)):(g=U(w[0]),c=N(g,!1,e),u=1);var v,_=setTimeout((function(){c.abort(),y=!1}),l),x=function(e){for(var t=0;t<e;t++)w.shift();n&&Q(I,JSON.stringify(w.slice(0,s)))},C=function(e){x(e),D()};if(c.onreadystatechange=function(){4===c.readyState&&c.status>=200&&(clearTimeout(_),c.status<300?C(u):(function(e){return!(e>=200&&e<300||!p.includes(e)&&h.includes(e))}(c.status)||(k.error("Status ".concat(c.status,", will not retry.")),x(u)),y=!1))},j(w)){if((v=w.slice(0,u)).length>0){var L=!1,O=v.map((function(e){return e.evt}));if(b){var P=new Blob([B(M(O))],{type:"application/json"});try{L=navigator.sendBeacon(g,P)}catch(e){L=!1}}!0===L?C(u):c.send(B(M(O)))}}else c.send()}else if(d||j(w))y=!1;else{var A=new Image(1,1),E=!0;A.onload=function(){E&&(E=!1,w.shift(),n&&Q(I,JSON.stringify(w.slice(0,s))),D())},A.onerror=function(){E&&(E=!1,y=!1)},A.src=U(w[0]),setTimeout((function(){E&&y&&(E=!1,D())}),l)}}}function N(e,t,n){var r=new XMLHttpRequest;for(var o in t?(r.open("POST",e,!n),r.setRequestHeader("Content-Type","application/json; charset=UTF-8")):r.open("GET",e,!n),r.withCredentials=g,d&&r.setRequestHeader("SP-Anonymous","*"),f)Object.prototype.hasOwnProperty.call(f,o)&&r.setRequestHeader(o,f[o]);return r}function R(e){return{schema:"iglu:com.snowplowanalytics.snowplow/payload_data/jsonschema/1-0-4",data:e}}function B(e){return JSON.stringify(R(e))}function M(e){for(var t=(new Date).getTime().toString(),n=0;n<e.length;n++)e[n].stm=t;return e}function U(e){return u?m+e.replace("?","?stm="+(new Date).getTime()+"&"):m+e}return{enqueueRequest:function(e,t){m=t+L;var r=function(e,t){return k.warn("Event ("+e+"B) too big, max is "+t)};if(S){var u=P(e);w.push(u)}else if(C){if((u=P(e)).bytes>=i)return r(u.bytes,i),void E(u,m);w.push(u)}else{var l=function(e){var t="?",n={co:!0,cx:!0},r=!0;for(var o in e)e.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(r?r=!1:t+="&",t+=encodeURIComponent(o)+"="+encodeURIComponent(e[o]));for(var a in n)e.hasOwnProperty(a)&&n.hasOwnProperty(a)&&(t+="&"+a+"="+encodeURIComponent(e[a]));return t}(e);if(c>0){var d=A(U(l));if(d>=c)return r(d,c),void(T&&E(u=P(e),t+o))}w.push(l)}var f=!1;n&&(f=Q(I,JSON.stringify(w.slice(0,s)))),y||f&&!(w.length>=a)||D()},executeQueue:function(){y||D()},setUseLocalStorage:function(e){n=e},setAnonymousTracking:function(e){d=e},setCollectorUrl:function(e){m=e+L},setBufferSize:function(e){a=e}}}function oe(e,t,n){var r,o,a;return"translate.googleusercontent.com"===e?(""===n&&(n=t),e=q(t=null!==(o=t,r=(a=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+))([?][^#]+)").exec(o))&&(null==a?void 0:a.length)>1?Y("u",a[1]):null)&&void 0!==r?r:"")):"cc.bingj.com"!==e&&"webcache.googleusercontent.com"!==e||(e=q(t=document.links[0].href)),[e,t,n]}function ae(e,t){void 0===t&&(t=1),se(e)?(e[7]=e[6],e[5]=e[4],e[3]++):e[3]=t;var n=h();return e[6]=n,e[10]=0,e[8]="",e[9]=void 0,n}function ie(e){e[4]=Math.round((new Date).getTime()/1e3)}function ce(e){return e[6]}function ue(e){return e[3]}function se(e){return"0"===e[0]}function le(t,n,r,o,a,i){void 0===i&&(i={});var c=[],u=function(t,n,r,o,a,i){var u,s,l,d,f,g,p,m,y,w,_,b,x,S,T,C,L,I,O,P,A,j,E,D,N,R;i.eventMethod=null!==(u=i.eventMethod)&&void 0!==u?u:"post";var B=function(e){var t;return null!==(t=e.stateStorageStrategy)&&void 0!==t?t:"cookieAndLocalStorage"},U=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withSessionTracking))&&void 0!==n&&n},F=function(e){var t,n;return"boolean"!=typeof e.anonymousTracking&&null!==(n=!0===(null===(t=e.anonymousTracking)||void 0===t?void 0:t.withServerAnonymisation))&&void 0!==n&&n},V=function(e){return!!e.anonymousTracking};c.push({beforeTrack:function(e){var t,n,r,o,a,i,c=function(e){return Xe?null:e},u=function(e){return Je?e:c(e)},s=ut("ses"),l=bt();t=!!ge&&!!te(ge),Ge||t?yt():(se(l)?(be=s||"none"==Ke?ce(l):ae(l),Ye=ue(l)):(new Date).getTime()-We>1e3*ze&&(Ye++,be=ae(l,Ye)),ie(l),function(e,t){if(0===e[10]){var n=t.build();e[8]=n.eid;var r=n.dtm||n.ttm;e[9]=r?parseInt(r):void 0}}(l,e),function(e){e[10]+=1}(l),e.add("vp",function(){var e,t;if("innerWidth"in window)e=window.innerWidth,t=window.innerHeight;else{var n=document.documentElement||document.body;e=n.clientWidth,t=n.clientHeight}return e>=0&&t>=0?e+"x"+t:null}()),e.add("ds",(n=document.documentElement,o=(r=document.body)?Math.max(r.offsetHeight,r.scrollHeight):0,a=Math.max(n.clientWidth,n.offsetWidth,n.scrollWidth),i=Math.max(n.clientHeight,n.offsetHeight,n.scrollHeight,o),isNaN(a)||isNaN(i)?"":a+"x"+i)),e.add("vid",u(Ye)),e.add("sid",u(be)),e.add("duid",c(function(e){return e[1]}(l))),e.add("uid",c(xe)),nt(),e.add("refr",at(H||Oe)),e.add("url",at(ne||Ie)),!tt||Je||Xe||function(e,t){var n={schema:"iglu:com.snowplowanalytics.snowplow/client_session/jsonschema/1-0-2",data:t};e.addContextEntity(n)}(e,function(e,t){var n=e[9];return{userId:e[1],sessionId:e[6],eventIndex:e[10],sessionIndex:e[3],previousSessionId:e[7]||null,storageMechanism:"localStorage"==t?"LOCAL_STORAGE":"COOKIE_1",firstEventId:e[8]||null,firstEventTimestamp:n?new Date(n).toISOString():null}}(l,Ke)),"none"!=Ke&&(mt(l),ht()),We=(new Date).getTime())}}),(null===(l=null===(s=null==i?void 0:i.contexts)||void 0===s?void 0:s.webPage)||void 0===l||l)&&c.push({contexts:function(){return[{schema:"iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0",data:{id:St()}}]}}),c.push.apply(c,null!==(d=i.plugins)&&void 0!==d?d:[]);var H,ne,le,de,fe,ge,pe,he,me,ve,ye,we,_e,be,xe,ke=M({base64:i.encodeBase64,corePlugins:c,callback:function(e){var t;t=!!ge&&!!te(ge),Ge||t||Qe.enqueueRequest(e.build(),Ae)}}),Se=navigator.userLanguage||navigator.language,Te=document.characterSet||document.charset,Ce=oe(window.location.hostname,window.location.href,K()),Le=X(Ce[0]),Ie=Ce[1],Oe=Ce[2],Pe=null!==(f=i.platform)&&void 0!==f?f:"web",Ae=xt(o),je=null!==(g=i.postPath)&&void 0!==g?g:"/com.snowplowanalytics.snowplow/tp2",Ee=null!==(p=i.appId)&&void 0!==p?p:"",De=document.title,Ne=null===(m=i.resetActivityTrackingOnPageView)||void 0===m||m,Re=null!==(y=i.cookieName)&&void 0!==y?y:"_sp_",Be=null!==(w=i.cookieDomain)&&void 0!==w?w:void 0,Me="/",Ue=null!==(_=i.cookieSameSite)&&void 0!==_?_:"None",Fe=null===(b=i.cookieSecure)||void 0===b||b,Ve=navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack,Ge=void 0!==i.respectDoNotTrack&&i.respectDoNotTrack&&("yes"===Ve||"1"===Ve),He=null!==(x=i.cookieLifetime)&&void 0!==x?x:63072e3,ze=null!==(S=i.sessionCookieTimeout)&&void 0!==S?S:1800,Je=U(i),qe=F(i),Xe=V(i),Ke=B(i),We=(new Date).getTime(),Ye=1,Qe=re(t,a,"localStorage"==Ke||"cookieAndLocalStorage"==Ke,i.eventMethod,je,null!==(T=i.bufferSize)&&void 0!==T?T:1,null!==(C=i.maxPostBytes)&&void 0!==C?C:4e4,null!==(L=i.maxGetBytes)&&void 0!==L?L:0,null===(I=i.useStm)||void 0===I||I,null!==(O=i.maxLocalStorageQueueSize)&&void 0!==O?O:1e3,null!==(P=i.connectionTimeout)&&void 0!==P?P:5e3,qe,null!==(A=i.customHeaders)&&void 0!==A?A:{},null===(j=i.withCredentials)||void 0===j||j,null!==(E=i.retryStatusCodes)&&void 0!==E?E:[],(null!==(D=i.dontRetryStatusCodes)&&void 0!==D?D:[]).concat([400,401,403,410,422])),Ze=!1,$e=!1,et={enabled:!1,installed:!1,configurations:{}},tt=null!==(R=null===(N=i.contexts)||void 0===N?void 0:N.session)&&void 0!==R&&R;function nt(){(Ce=oe(window.location.hostname,window.location.href,K()))[1]!==Ie&&(Oe=K(Ie)),Le=X(Ce[0]),Ie=Ce[1]}function rt(e){var t=(new Date).getTime(),n=e.currentTarget;(null==n?void 0:n.href)&&(n.href=function(e,t,n){var r="_sp="+n,o=e.split("#"),a=o[0].split("?"),i=a.shift(),c=a.join("?");if(c){for(var u=!0,s=c.split("&"),l=0;l<s.length;l++)if("_sp="===s[l].substr(0,4)){u=!1,s[l]=r,c=s.join("&");break}u&&(c=r+"&"+c)}else c=r;return o[0]=i+"?"+c,o.join("#")}(n.href,0,_e+"."+t))}function ot(e){for(var t=0;t<document.links.length;t++){var n=document.links[t];!n.spDecorationEnabled&&e(n)&&(W(n,"click",rt,!0),W(n,"mousedown",rt,!0),n.spDecorationEnabled=!0)}}function at(e){var t;return de&&(t=new RegExp("#.*"),e=e.replace(t,"")),fe&&(t=new RegExp("[{}]","g"),e=e.replace(t,"")),e}function it(e){var t=new RegExp("^([a-z]+):").exec(e);return t?t[1]:null}function ct(e){return Re+e+"."+we}function ut(e){var t=ct(e);return"localStorage"==Ke?function(e){try{var t=window.localStorage,n=t.getItem(e+".expires");return null===n||+n>Date.now()?t.getItem(e):(t.removeItem(e),void t.removeItem(e+".expires"))}catch(e){return}}(t):"cookie"==Ke||"cookieAndLocalStorage"==Ke?te(t):void 0}function st(){nt(),we=G((Be||Le)+(Me||"/")).slice(0,4)}function lt(){var e=new Date;pe=e.getTime()}function dt(){!function(){var e=ft(),t=e[0];t<he?he=t:t>me&&(me=t);var n=e[1];n<ve?ve=n:n>ye&&(ye=n)}(),lt()}function ft(){var e=document.documentElement;return e?[e.scrollLeft||window.pageXOffset,e.scrollTop||window.pageYOffset]:[0,0]}function gt(){var e=ft(),t=e[0];he=t,me=t;var n=e[1];ve=n,ye=n}function pt(e){return Math.round(e)}function ht(){vt(ct("ses"),"*",ze)}function mt(e){var t=ct("id"),n=function(e){return e.shift(),e.join(".")}(e);vt(t,n,He)}function vt(e,t,n){Xe&&!Je||("localStorage"==Ke?Q(e,t,n):"cookie"!=Ke&&"cookieAndLocalStorage"!=Ke||te(e,t,n,Me,Be,Ue,Fe))}function yt(e){var t=ct("id"),n=ct("ses");Z(t),Z(n),$(t,Be,Ue,Fe),$(n,Be,Ue,Fe),(null==e?void 0:e.preserveSession)||(be=h(),Ye=0),(null==e?void 0:e.preserveUser)||(_e=h(),xe=null)}function wt(e){e&&e.stateStorageStrategy&&(i.stateStorageStrategy=e.stateStorageStrategy,Ke=B(i)),Xe=V(i),Je=U(i),qe=F(i),Qe.setUseLocalStorage("localStorage"==Ke||"cookieAndLocalStorage"==Ke),Qe.setAnonymousTracking(qe)}function _t(){if(!Xe||Je){var e="none"!=Ke&&!!ut("ses"),t=bt();_e=function(e,t){var n;return e[1]?n=e[1]:t?(n="",e[1]=n):(n=h(),e[1]=n),n}(t,Xe),be=e?ce(t):ae(t),"none"!=Ke&&(ht(),ie(t),mt(t))}}function bt(){return"none"==Ke?["1","",0,0,0,void 0,"","","",void 0,0]:function(e,t,n,r){var o,a=new Date,i=Math.round(a.getTime()/1e3);e?(o=e.split(".")).unshift("0"):o=["1",t,i,r,i,"",n],o[6]&&"undefined"!==o[6]||(o[6]=h()),o[7]&&"undefined"!==o[7]||(o[7]=""),o[8]&&"undefined"!==o[8]||(o[8]=""),o[9]&&"undefined"!==o[9]||(o[9]=""),o[10]&&"undefined"!==o[10]||(o[10]=0);var c=function(e,t){var n=parseInt(e);return isNaN(n)?t:n},u=function(e){return e?c(e,void 0):void 0};return[o[0],o[1],c(o[2],i),c(o[3],r),c(o[4],i),u(o[5]),o[6],o[7],o[8],u(o[9]),c(o[10],0)]}(ut("id")||void 0,_e,be,Ye)}function xt(e){return 0===e.indexOf("http")?e:("https:"===document.location.protocol?"https":"http")+"://"+e}function kt(){Ze&&null!=a.pageViewId||(a.pageViewId=h())}function St(){return null==a.pageViewId&&(a.pageViewId=h()),a.pageViewId}function Tt(e,t){return(e||[]).concat(t?t():[])}function Ct(e,t,n){var r=function(e,t){nt(),e({context:t,pageViewId:St(),minXOffset:he,minYOffset:ve,maxXOffset:me,maxYOffset:ye}),gt()},o=function(){var o=new Date;pe+e.configHeartBeatTimer>o.getTime()&&r(e.callback,Tt(t,n))};0!=e.configMinimumVisitLength?e.activityInterval=window.setTimeout((function(){var a=new Date;pe+e.configMinimumVisitLength>a.getTime()&&r(e.callback,Tt(t,n)),e.activityInterval=window.setInterval(o,e.configHeartBeatTimer)}),e.configMinimumVisitLength):e.activityInterval=window.setInterval(o,e.configHeartBeatTimer)}function Lt(e){var t=e.minimumVisitLength,n=e.heartbeatDelay,r=e.callback;if(z(t)&&z(n))return{configMinimumVisitLength:1e3*t,configHeartBeatTimer:1e3*n,callback:r};k.error("Activity tracking minimumVisitLength & heartbeatDelay must be integers")}function It(e){var t=e.context,n=e.minXOffset,r=e.minYOffset,o=e.maxXOffset,a=e.maxYOffset,i=document.title;i!==De&&(De=i,le=void 0),ke.track(function(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=e.minXOffset,a=e.maxXOffset,i=e.minYOffset,c=e.maxYOffset,u=v();return u.add("e","pp"),u.add("url",t),u.add("page",n),u.add("refr",r),o&&!isNaN(Number(o))&&u.add("pp_mix",o.toString()),a&&!isNaN(Number(a))&&u.add("pp_max",a.toString()),i&&!isNaN(Number(i))&&u.add("pp_miy",i.toString()),c&&!isNaN(Number(c))&&u.add("pp_may",c.toString()),u}({pageUrl:at(ne||Ie),pageTitle:J(le||De),referrer:at(H||Oe),minXOffset:pt(n),maxXOffset:pt(o),minYOffset:pt(r),maxYOffset:pt(a)}),t)}i.hasOwnProperty("discoverRootDomain")&&i.discoverRootDomain&&(Be=function(e,t){for(var n=window.location.hostname,r="_sp_root_domain_test_",o=r+(new Date).getTime(),a="_test_value_"+(new Date).getTime(),i=n.split("."),c=i.length-1;c>=0;){var u=i.slice(c,i.length).join(".");if(te(o,a,0,"/",u,e,t),te(o)===a){$(o,u,e,t);for(var s=ee(r),l=0;l<s.length;l++)$(s[l],u,e,t);return u}c-=1}return n}(Ue,Fe)),ke.setTrackerVersion(r),ke.setTrackerNamespace(n),ke.setAppId(Ee),ke.setPlatform(Pe),ke.addPayloadPair("cookie",navigator.cookieEnabled?"1":"0"),ke.addPayloadPair("cs",Te),ke.addPayloadPair("lang",Se),ke.addPayloadPair("res",screen.width+"x"+screen.height),ke.addPayloadPair("cd",screen.colorDepth),st(),_t(),i.crossDomainLinker&&ot(i.crossDomainLinker);var Ot={getDomainSessionIndex:function(){return Ye},getPageViewId:function(){return St()},newSession:function(){var e=bt();se(e)?(be="none"!=Ke?ae(e):ce(e),Ye=ue(e),ht()):(Ye++,be=ae(e,Ye)),ie(e),"none"!=Ke&&(mt(e),ht()),We=(new Date).getTime()},getCookieName:function(e){return ct(e)},getUserId:function(){return xe},getDomainUserId:function(){return bt()[1]},getDomainUserInfo:function(){return bt()},setReferrerUrl:function(e){H=e},setCustomUrl:function(e){nt(),ne=function(e,t){var n;return it(t)?t:"/"===t.slice(0,1)?it(e)+"://"+q(e)+t:((n=(e=at(e)).indexOf("?"))>=0&&(e=e.slice(0,n)),(n=e.lastIndexOf("/"))!==e.length-1&&(e=e.slice(0,n+1)),e+t)}(Ie,e)},setDocumentTitle:function(e){De=document.title,le=e},discardHashTag:function(e){de=e},discardBrace:function(e){fe=e},setCookiePath:function(e){Me=e,st()},setVisitorCookieTimeout:function(e){He=e},crossDomainLinker:function(e){ot(e)},enableActivityTracking:function(t){et.configurations.pagePing||(et.enabled=!0,et.configurations.pagePing=Lt(e(e({},t),{callback:It})))},enableActivityTrackingCallback:function(e){et.configurations.callback||(et.enabled=!0,et.configurations.callback=Lt(e))},updatePageActivity:function(){lt()},setOptOutCookie:function(e){ge=e},setUserId:function(e){xe=e},setUserIdFromLocation:function(e){nt(),xe=Y(e,Ie)},setUserIdFromReferrer:function(e){nt(),xe=Y(e,Oe)},setUserIdFromCookie:function(e){xe=te(e)},setCollectorUrl:function(e){Ae=xt(e),Qe.setCollectorUrl(Ae)},setBufferSize:function(e){Qe.setBufferSize(e)},flushBuffer:function(e){void 0===e&&(e={}),Qe.executeQueue(),e.newBufferSize&&Qe.setBufferSize(e.newBufferSize)},trackPageView:function(e){void 0===e&&(e={}),function(e){var t=e.title,n=e.context,r=e.timestamp,o=e.contextCallback;nt(),$e&&kt(),$e=!0,De=document.title;var a=J((le=t)||De);ke.track(function(e){var t=e.pageUrl,n=e.pageTitle,r=e.referrer,o=v();return o.add("e","pv"),o.add("url",t),o.add("page",n),o.add("refr",r),o}({pageUrl:at(ne||Ie),pageTitle:a,referrer:at(H||Oe)}),Tt(n,o),r);var i=new Date,c=!1;if(et.enabled&&!et.installed){et.installed=!0,c=!0;var u={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0},set:function(){}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),u.hasSupport=e}}};u.update();var s="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";Object.prototype.hasOwnProperty.call(u,"hasSupport")?W(document,s,lt,{passive:!0}):W(document,s,lt),gt();var l=function(e,t){return void 0===t&&(t=lt),function(e){return W(document,e,t)}};["click","mouseup","mousedown","mousemove","keypress","keydown","keyup"].forEach(l(document)),["resize","focus","blur"].forEach(l(window)),l(window,dt)("scroll")}if(et.enabled&&(Ne||c)){pe=i.getTime();var d=void 0;for(d in et.configurations){var f=et.configurations[d];f&&(window.clearInterval(f.activityInterval),Ct(f,n,o))}}}(e)},preservePageViewId:function(){Ze=!0},disableAnonymousTracking:function(e){i.anonymousTracking=!1,wt(e),_t(),Qe.executeQueue()},enableAnonymousTracking:function(e){var t;i.anonymousTracking=null===(t=e&&(null==e?void 0:e.options))||void 0===t||t,wt(e),Je||kt()},clearUserData:yt};return e(e({},Ot),{id:t,namespace:n,core:ke,sharedState:a})}(t,n,r,o,a,i),s=e(e({},u),{addPlugin:function(e){var t,n;s.core.addPlugin(e),null===(n=(t=e.plugin).activateBrowserPlugin)||void 0===n||n.call(t,s)}});return c.forEach((function(e){var t;null===(t=e.activateBrowserPlugin)||void 0===t||t.call(e,s)})),s}var de={};function fe(e,t){try{(n=null!=e?e:Object.keys(de),function(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var a=o[r];t.hasOwnProperty(a)?n.push(t[a]):k.warn(a+" not configured")}return n}(n,de)).forEach(t)}catch(e){k.error("Function failed",e)}var n}var ge=function(){this.outQueues=[],this.bufferFlushers=[],this.hasLoaded=!1,this.registeredOnLoadHandlers=[]};function pe(e,t){fe(t,(function(t){t.core.addGlobalContexts(e)}))}var he="undefined"!=typeof window?function(){var e=new ge,t=document,n=window;function r(){var t;if(!e.hasLoaded)for(e.hasLoaded=!0,t=0;t<e.registeredOnLoadHandlers.length;t++)e.registeredOnLoadHandlers[t]();return!0}return t.visibilityState&&W(t,"visibilitychange",(function(){"hidden"==t.visibilityState&&e.bufferFlushers.forEach((function(e){e(!1)}))}),!1),W(n,"beforeunload",(function(){e.bufferFlushers.forEach((function(e){e(!1)}))}),!1),"loading"===document.readyState?(t.addEventListener?t.addEventListener("DOMContentLoaded",(function e(){t.removeEventListener("DOMContentLoaded",e,!1),r()})):t.attachEvent&&t.attachEvent("onreadystatechange",(function e(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",e),r())})),W(n,"load",r,!1)):r(),e}():void 0;return function(){function e(e){var t,n=this;if(this.trackerName="main",this.schemaMappingKey="eventAction",this.verbose=!1,this.channel="clickstream:track",this.globalContextSchema="iglu:com.psp/context/jsonschema/1-0-0",!e)throw new TypeError("Options are not supplied");if(this.trackerName=e.name||"main",this.verbose=e.verbose||!1,this.channel=e.centrifugoChannel||this.channel,this.globalContextSchema=e.globalContextSchema||this.globalContextSchema,this.globalContext=e.globalContext,this.centrifugo=e.centrifugo,this.schemaMappingKey=e.schemaMappingKey||this.schemaMappingKey,this.schema={$default:null},this.centrifugo){var r=new ne((function(e,t){return n.transportSend(e,t)}),{maxBytes:6e4,isReady:"connected"===this.centrifugo.state});this.centrifugo.on("connected",(function(){r.setReady(!0)})),this.centrifugo.on("disconnected",(function(){r.setReady(!1)})),this.centrifugo.on("connecting",(function(){r.setReady(!1)})),this.transport=r}this.crossdomainId=e.crossdomainId||function(e){try{return new URLSearchParams(window.location.search).get("clstrmid")||void 0}catch(e){return}}(),t=this.trackerName,de.hasOwnProperty(t)?(this.tracker=function(e){return de.hasOwnProperty(e)?de[e]:(k.warn(e+" not configured"),null)}(this.trackerName),this.verbose&&console.warn("The tracker %s is initialized repeatedly",this.trackerName)):(this.tracker=function(e,t,n){return void 0===n&&(n={}),he?function(e,t,n,r,o,a){return de.hasOwnProperty(e)?null:(de[e]=le(e,t,n,r,o,a),de[e])}(e,e,"js-".concat("3.8.1"),t,he,n):void 0}(this.trackerName,window.location.host,{eventMethod:this.transport||"post",customHeaders:e.customHeaders,appId:e.appId,postPath:e.postPath||"/psp",plugins:[{contexts:function(){var e={schema:"iglu:com.google.analytics/cookies/jsonschema/1-0-0",data:{}};return["__utma","__utmb","__utmc","__utmv","__utmz","_ga"].forEach((function(t){var n=te(t);n&&(e.data[t]=n)})),[e]}}]}),this.registerDefaultGlobalContexts()),Array.isArray(e.stripProperties)||!1===e.stripProperties?this.stripProperties=e.stripProperties:this.stripProperties=["event","eventAction","eventCategory"],this.loadConfig(e.schemaMapping)}return e.prototype.transformPayload=function(e){if(!e)return e;if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},e.prototype.transportSend=function(e,r){var o;return t(this,void 0,void 0,(function(){var t,a,i;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),function(e){try{window.postMessage({type:"clickstreamDebug",payload:e},"*")}catch(t){console.error("Failed send debug event",e,t)}}(t=this.transformPayload(e)),[4,null===(o=this.centrifugo)||void 0===o?void 0:o.publish(this.channel,t)];case 1:return n.sent(),[3,3];case 2:return a=n.sent(),(i=a).source="centrifugo",console.error(i),[2,r(i)];case 3:return[2,r()]}}))}))},e.prototype.updateSchema=function(e){e&&"object"==typeof e&&(this.schema=e)},e.prototype.loadConfig=function(e){return t(this,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:if(!e)return[2];n.label=1;case 1:return n.trys.push([1,5,,6]),t=void 0,"function"!=typeof e?[3,3]:[4,e()];case 2:return t=n.sent(),[3,4];case 3:t=e,n.label=4;case 4:return this.updateSchema(t),[3,6];case 5:return n.sent(),[3,6];case 6:return[2]}}))}))},e.prototype.updateDefaultGlobalContext=function(e){this.globalContext=e},e.prototype.getDefaultGlobalContext=function(){if(this.globalContext)return{schema:this.globalContextSchema,data:this.globalContext}},e.prototype.getCrossdomainContext=function(){if(this.crossdomainId)return{schema:"iglu:com.psp/context_crossdomain/jsonschema/1-0-0",data:{crossdomain_id:this.crossdomainId}}},e.prototype.registerDefaultGlobalContexts=function(){pe([{schema:"iglu:com.psp/big_brother_meta/jsonschema/1-0-0",data:{v:"1.13.2"}},this.getDefaultGlobalContext.bind(this),this.getCrossdomainContext.bind(this)],[this.trackerName])},e.prototype.mapToSchema=function(e){if(!e||"object"!=typeof e)return null;if(function(e){if(!e||"object"!=typeof e)return!1;var t=e;return Boolean(t.schema&&t.data&&"object"==typeof t.data)}(e))return e;var t=e,n=t[this.schemaMappingKey];if(!n)return null;var r=this.schema[n];return r||(r=this.schema.$default)?(this.stripProperties&&this.stripProperties.forEach((function(e){delete t[e]})),{schema:r,data:t}):null},e.prototype.push=function(e,t){try{var n=this.mapToSchema(e);if(!n)return;!function(e,t){fe(t,(function(t){t.core.track(function(e){var t=e.event,n=t.schema,r=t.data,o=v(),a={schema:"iglu:com.snowplowanalytics.snowplow/unstruct_event/jsonschema/1-0-0",data:{schema:n,data:r}};return o.add("e","ue"),o.addJson("ue_px","ue_pr",a),o}({event:e.event}),e.context,e.timestamp)}))}({event:n,context:t},[this.trackerName])}catch(e){this.verbose&&console.error("Failed to push analytics event",e)}},e.prototype.pageview=function(){fe([this.trackerName],(function(e){e.trackPageView(void 0)}))},e.prototype.addGlobalContext=function(e){pe([e],[this.trackerName])},e.prototype.getDomainUserId=function(){return this.tracker.getDomainUserId()},e.prototype.getSessionId=function(){try{return this.tracker.getDomainUserInfo()[6]}catch(e){return this.verbose&&console.error("Failed to load session id",e),null}},e.prototype.getCrossdomainId=function(){return this.crossdomainId||(this.crossdomainId=this.getSessionId()||this.getDomainUserId()),this.crossdomainId},e}()}();const r="iglu:com.psp/growthbook_experiment_start/jsonschema/1-0-0";function o(e){let t="",n=0;for(;n<e;)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())),n+=1;return t}const a=()=>{const e={current_step:{maxLength:12},clstrmid:{maxLength:64},utm_rm:{maxLength:64},voluum_offerid:{maxLength:64},voluum_campaignid:{maxLength:64},adtag:{maxLength:150},adtag_t:{maxLength:13},voluum_clickid:{maxLength:64},voluum_clickid_t:{maxLength:13},qtag:{maxLength:150},qtag_t:{maxLength:13},stag:{maxLength:150},stag_t:{maxLength:13},btag:{maxLength:50},btag_t:{maxLength:13},org:{maxLength:15},org_t:{maxLength:13},win_tag_type:{maxLength:15},win_tag:{maxLength:150},siteid:{maxLength:30},source_url:{maxLength:3e3},entrance_url:{maxLength:2500},register_url:{maxLength:2e3},isep_redirect_url:{maxLength:65},lid_redirect_url:{maxLength:120},prism_click_id:{maxLength:120},x_pm_click:{maxLength:120},pr_tid:{maxLength:120},pr_brand_domain:{maxLength:55},pr_landing_path:{maxLength:85},pr_direct_url:{maxLength:130},pr_traffic_back_url:{maxLength:60},utm:{maxLength:75},utm_campaign:{maxLength:280},utm_content:{maxLength:190},utm_medium:{maxLength:135},utm_source:{maxLength:1200},utm_term:{maxLength:90},utm_id:{maxLength:80},provider:{maxLength:30},activation_id:{maxLength:115},activity_id:{maxLength:45},communication_id:{maxLength:45},iohash:{maxLength:75},dhash:{maxLength:75},browsing_mode:{maxLength:9},isep:{maxLength:9},hspmssn:{maxLength:9},dublicate:{maxLength:9}};let t={},n=null,r=null,o=null,a=null;"undefined"!=typeof MTFEF&&void 0!==MTFEF.collectSources&&(n=MTFEF.hasIsep(),r=MTFEF.hasLid(),t=MTFEF.collectSources(),o=MTFEF.collectSources().registerURL?MTFEF.collectSources().registerURL.slice(0,2e3):null,a=MTFEF.collectSources().sourceURL?MTFEF.collectSources().sourceURL.slice(0,3e3):null),window.location.search&&window.location.search.substring(1).split("&").map((e=>{const n=e.split("=");t[n[0]]||(t[n[0]]=n[1])}));const i={};return Object.keys(e).map((c=>{switch(c){case"isep":i[c]=n;break;case"hspmssn":i[c]=r;break;case"dublicate":i[c]="true"===r||"true"===n?"true":"false";break;case"isep_redirect_url":i[c]=window.location.host.replace("win.","")+"/en/login";break;case"register_url":i[c]=o;break;case"source_url":i[c]=a;break;default:t[c]?i[c]=t[c].slice(0,e[c].maxLength):i[c]=null}})),i},i=(e,t,n)=>({brand:e,language:t,channel:n,operator_id:"PMI"}),c=new n({appId:"landing",customHeaders:{"X-Api-Key":"6887bed4-e4cb-4153-90b3-472318b1e531"},postPath:"/psp"}),u={addGlobalContext:function(e,t,n){return c.addGlobalContext({schema:"iglu:com.psp/context/jsonschema/2-0-0",data:i(e,t,n)})},addContextLanding:function(e,t,n,r,o,a,i,u,s){return c.addGlobalContext({schema:"iglu:com.psp/context_landing/jsonschema/2-1-0",data:{nnbonus:e,landing_type:t,landing_multi_brand:n,landing_page_brand_category:r,landing_page_language:o,landing_page_category:a,landing_page_platform:i,landing_page_event_category:u,landing_page_reg_type:s}})},addFingerprintContext:function(e){return c.addGlobalContext({schema:"iglu:com.psp/fingerprint/jsonschema/1-0-0",data:{fingerprint:e}})},pageViewEvent:function(){return c.pageview()},pushEvent:function(e){return c.push((e=>{switch(e.pushEventName){case"landing_registration_logo_click":return{schema:"iglu:com.psp/landing_registration_logo_click/jsonschema/1-0-0",data:{}};case"landing_field_agreement_toggle_click":return{schema:"iglu:com.psp/landing_field_agreement_toggle_click/jsonschema/1-0-0",data:{}};case"landing_field_bonus_toggle_click":return{schema:"iglu:com.psp/landing_field_bonus_toggle_click/jsonschema/1-0-0",data:{}};case"landing_bonus_rules_click":return{schema:"iglu:com.psp/landing_bonus_rules_click/jsonschema/1-0-0",data:{}};case"landing_download_app_click":return{schema:"iglu:com.psp/landing_download_app_click/jsonschema/1-0-0",data:{}};case"landing_registration_product_redirect_click":return{schema:"iglu:com.psp/landing_registration_product_redirect_click/jsonschema/1-1-0",data:{nnbonus:e.bonusType}};case"landing_login_product_redirect_click":return{schema:"iglu:com.psp/landing_login_product_redirect_click/jsonschema/1-1-0",data:{nnbonus:e.bonusType}};case"landing_cta_buttons_click":return{schema:"iglu:com.psp/landing_cta_buttons_click/jsonschema/1-1-0",data:{type_button:e.ctaButtonType,nnbonus:e.bonusType}};case"landing_terms_condition_link_click":return{schema:"iglu:com.psp/landing_terms_condition_link_click/jsonschema/1-0-0",data:{}};case"landing_registration_success":return{schema:"iglu:com.psp/landing_registration_success/jsonschema/2-0-0",data:{user_id_hash:o(64),nnbonus:e.bonusType}};case"landing_registration_submit_button_click":return{schema:"iglu:com.psp/landing_registration_submit_button_click/jsonschema/2-0-0",data:{nnbonus:e.bonusType}};case"landing_registration_start":return{schema:"iglu:com.psp/landing_registration_start/jsonschema/1-0-0",data:{}};case"landing_registration_error":return{schema:"iglu:com.psp/landing_registration_error/jsonschema/1-0-0",data:{error_code:e.regErrorCode,error_text:e.regErrorText}};case"landing_registration_already_have_account":return{schema:"iglu:com.psp/landing_registration_already_have_account/jsonschema/2-0-0",data:{nnbonus:e.bonusType}};case"landing_login_success":return{schema:"iglu:com.psp/landing_login_success/jsonschema/2-0-0",data:{user_id_hash:o(64),nnbonus:e.bonusType}};case"landing_login_error":return{schema:"iglu:com.psp/landing_login_error/jsonschema/1-0-0",data:{error_code:e.regErrorCode,error_text:e.regErrorText}};case"growthbook_experiment_start":return{schema:r,data:{experiment_key:e.experimentKey,experiment_variant_id:e.experimentVariantId}};case"marketing_lib_data":return{schema:"iglu:com.psp/marketing_lib_data/jsonschema/3-0-0",data:{...a(),current_step:e.currentStep,clstrmid:e.clstrmid}}}})(e))},getCrossdomainId:function(){return c.getCrossdomainId()},addGrowthbookContext:function(e,t){return c.addGlobalContext({schema:"iglu:com.psp/growthbook_context/jsonschema/1-0-0",data:{experiment_key:e,experiment_variant_id:t}})},experimentStartEvent:function(e,t){return c.push({schema:r,data:{experiment_key:e,experiment_variant_id:t}})}};window.Analytics=t.default})();