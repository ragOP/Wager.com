(()=>{"use strict";class e{constructor(e){this.globalFunction=e}}var t;!function(e){e.DEV="dev",e.PROD="prod"}(t||(t={}));const n=t.PROD;class a{static window(){return window}static navigator(){return this.window().navigator}static document(){return this.window().document}static location(){return this.window().location}static localStorage(){return this.window().localStorage}static sessionStorage(){return this.window().sessionStorage}static indexedDb(){return this.window().indexedDB}static math(){return Math}static json(){return JSON}static crypto(){return this.window().crypto}static dataLayer(){return this.window().dataLayer}}a.TRUE_AS_STRING="true",a.FALSE_AS_STRING="false",a.MINIMAL_COOKIE_LENGTH=2,a.DEFAULT_PATH="/",a.CURRENT_VERSION="v0.6.2",a.UTM_MEDIUM_NC="nc";class i{delete(e){document.cookie=e+"=; Max-Age=0"}exists(e){return-1!==("; "+document.cookie).indexOf(`; ${e}=`)}get(e){var t;const n=`; ${document.cookie}`.split(`; ${e}=`);if(void 0!==n&&2===n.length)return null===(t=n.pop())||void 0===t?void 0:t.split(";").shift()}save(e,t){this.saveCookie(e,t,36500)}saveCookie(e,i,r=0,o=!1){let s=a.location().hostname.split(".").filter((function(e,t,n){return n.length>2?0!==t||0===t&&"parimatch"===e:e})).join("."),l="";if(r>0){const e=new Date;e.setTime(e.getTime()+24*r*60*60*1e3),l="expires="+e.toUTCString()}const c=o?"SameSite=None; Secure":"";n===t.DEV&&(console.log("saveCookie:",`${e}=${i};expires=${l};path=/;domain=${s};${c}`),document.cookie=`${e}=${i};expires=${l};path=/;domain=${s};${c}`),document.cookie=`${e}=${i};expires=${l};path=/;domain=.${s};${c}`}}const r=new i,o=new i;class s{existsQueryParameter(e){return new RegExp("[?&]"+e+"=","i").test(a.location().search)}findQueryParameter(e){let t="",n=[];return a.location().search.substring(1).split("&").forEach((function(a){if(n=a.split("="),n[0]===e&&n.hasOwnProperty(1))try{t=decodeURIComponent(n[1])}catch(e){t=""}})),t}removeQueryParameters(e,t){let n=e.split("?");if(2===n.length){const e=t.reduce(((e,t)=>{let n=encodeURIComponent(t)+"=",a=e.split(/[&;]/g);for(let e=a.length;e-- >0;)-1!==a[e].lastIndexOf(n,0)&&a.splice(e,1);return a.length>0?a.join("&"):""}),n[1]);return n[0]+"?"+e}return e}isValidURL(e){return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*((\\?|_)[;\\/&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}}var l=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const c=new i,g=new class{sanitize(e){return void 0!==e&&e.length?e.replace(/([^a-z]+)/g,""):""}},d=new class{sanitize(e){return void 0!==e&&e.length?e.replace(/\D+/g,""):""}},u=new s,m="size",_="cookieExpireDays",p=["adtag","btag","qtag","stag","voluum_clickid","org"];function y(e,t){const n={adtag:{cookieExpireDays:14,size:432e6},btag:{cookieExpireDays:3,size:0},qtag:{cookieExpireDays:3,size:216e5},stag:{cookieExpireDays:3,size:216e5},org:{cookieExpireDays:3,size:216e5},voluum_clickid:{cookieExpireDays:14,size:432e6}};return n.hasOwnProperty(e)&&void 0!==n[e][t]?n[e][t]:0}class h{getRandomUUID(){return"function"!=typeof a.crypto().randomUUID?([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(parseInt(e)^a.crypto().getRandomValues(new Uint8Array(1))[0]&15>>parseInt(e)/4).toString(16))):a.crypto().randomUUID()}isMixedTags(e){return e.length>1&&e[0].timestamp===e[1].timestamp}getCurrentMarketingMetaTagsFromCookies(){let e,t={},n=Date.now();return p.forEach((a=>{c.exists(a)&&(e=parseInt(c.get(a+"_t"))||n,t[a]={tag:a,cookieName:a,cookieValue:c.get(a),timestamp:e,ends:e+y(a,m)})})),t}hasInvalidTagValue(e){return["null","undefined"].includes(e)}getWinCookie(){const e=Date.now();let t=this.getAvailableTags(),n={},i=[],r=t.map((function(t){const n=void 0!==t.cookieValue?t.cookieValue:"",r=n.length>=a.MINIMAL_COOKIE_LENGTH;return t.cookieValue=n,r&&!c.exists(t.tag+"_t")&&(c.saveCookie(t.tag+"_t",e.toString(),y(t.tag,_)),i.push(t.tag+"_t"),t.timestamp=e,t.ends=e+y(t.tag,m)),t})).filter((function(e){const t=void 0!==e.cookieValue?e.cookieValue:"";return("org"!==e.tag||"unknown"!==t)&&t.length>=a.MINIMAL_COOKIE_LENGTH&&e.ends>Date.now()})).sort((function(e,t){return e.timestamp-t.timestamp}));return this.isMixedTags(r)||r.length&&void 0!==r[0]&&!this.hasInvalidTagValue(r[0].cookieValue)&&(n.win_tag=r[0].cookieValue,n.win_tag_type=r[0].tag,n.wtl="aw"),n=Object.assign(n,this.getTagTimestampCookieValues(i)),0===Object.keys(n).length&&(n=this.getLastCookie(t)),n}getLastCookie(e){let t={},n=e.filter((e=>"unknown"!==e.cookieValue&&e.timestamp>0)),a=Math.max(...n.map((e=>e.timestamp)));return t.wtl="ool",t.win_tag="unknown",t.win_tag_type="org",n=n.filter((e=>e.timestamp==a)),this.isMixedTags(n)?(t.win_tag="unknown",t.win_tag_type="org",t.wtl="lcm",t):(Object.keys(n).length&&([n[0].cookieValue,n[0].tag].includes("null")||(t.win_tag=n[0].cookieValue,t.win_tag_type=n[0].tag,t.wtl="lc")),t)}getTagTimestampCookieValues(e){let t=[],n={};return e.forEach((function(e){n[e]=c.get(e),void 0!==n[e]&&(t=Object.assign(t,n))})),t}canReplaceTag(e){return this.hasInvalidTagValue(e.cookieValue)||e.timestamp+y(e.tag,m)<a.window().mtTimestamp}getAvailableTags(){let e=this.getCurrentMarketingMetaTagsFromCookies(),t=this.getTagsFromRegisterUrl();return Object.keys(t).forEach((n=>{e.hasOwnProperty(n)?this.canReplaceTag(e[n])&&(delete e[n],e[n]=t[n]):(e[n]=t[n],this.setMetaTagCookies(t[n]))})),Object.keys(e).forEach((t=>{this.hasInvalidTagValue(e[t].cookieValue)&&delete e[t]})),Object.values(e)}setMetaTagCookies(e){["btag","stag"].includes(e.tag)&&c.saveCookie("pm_"+e.tag,e.cookieValue,y(e.tag,_)),c.saveCookie(e.tag,e.cookieValue,y(e.tag,_)),c.saveCookie(e.tag+"_t",e.timestamp.toString(),y(e.tag,_))}getTagsFromRegisterUrl(){let e,t,n=c.get("registerUrl"),a=new URLSearchParams(n.substring(n.indexOf("?"))),i=Date.now(),r={};for(const n of a)e=n[0],["adtag","btag","qtag","stag","voluum_clickid"].includes(e)&&(t=n[1],t.length>0&&(r[e]={tag:e,cookieName:e,cookieValue:t,timestamp:i,ends:i+y(e,m)}));return r}getMetaAttributes(){const e=document.querySelector('meta[name="lpid"]');return!!e&&{lpid:e.content}}getAttributionTags(){let e={};return e={voluum_clickid:this.prepareTag("voluum_clickid"),adtag:this.prepareTag("adtag"),btag:this.prepareTag("btag"),stag:this.prepareTag("stag"),qtag:this.prepareTag("qtag"),org:g.sanitize(c.get("org"))},p.forEach((t=>{if(e.hasOwnProperty(t)&&e[t].length>=a.MINIMAL_COOKIE_LENGTH){let n=t+"_t";e[n]=d.sanitize(c.get(n))}})),e}collectSourcesWithNc(){return l(this,void 0,void 0,(function*(){return this.collectSourcesWithNcPart(yield this.collectSources())}))}collectSourcesWithNcSync(){return this.collectSourcesWithNcPart(this.collectSourcesSync())}collectSourcesWithNcPart(e){let t=e;if(u.existsQueryParameter("utm_medium")&&a.UTM_MEDIUM_NC===u.findQueryParameter("utm_medium")){let n;n=c.exists("staticMm")?JSON.parse(c.get("staticMm")):e,n[a.UTM_MEDIUM_NC]=e,n.nc_timestamp=Date.now(),t=n}return t}collectSources(){return l(this,void 0,void 0,(function*(){return this.collectSourcesPart()}))}collectSourcesSync(){return this.collectSourcesPart()}collectSourcesPart(){var e,t;let n={mlv:a.CURRENT_VERSION,siteid:c.get("pm_siteid"),pmo_source_id:c.exists("pid")?c.get("pid"):u.findQueryParameter("pid"),pmo_click_id:c.exists("cid")?c.get("cid"):u.findQueryParameter("cid"),sourceURL:c.get("sourceUrl"),registerURL:u.removeQueryParameters(document.location.href,["acc","password","email","telno","passwd"]),iohash:c.get("iohash"),prism_click_id:c.exists("prism_click_id")?c.get("prism_click_id"):u.findQueryParameter("prism_click_id"),x_pm_click:c.exists("x_pm_click")?c.get("x_pm_click"):u.findQueryParameter("x_pm_click"),pr_tid:c.get("pr_tid"),pr_brand_domain:c.get("pr_brand_domain"),pr_landing_path:c.get("pr_landing_path"),pr_direct_url:c.get("pr_direct_url"),pr_traffic_back_url:c.get("pr_traffic_back_url"),utm:c.get("utm"),utm_campaign:c.get("utm_campaign"),utm_content:c.exists("utm_content")?null===(e=c.get("utm_content"))||void 0===e?void 0:e.replace(/[\u0400-\u04FF]/gi,""):null,utm_medium:c.get("utm_medium"),utm_source:c.get("utm_source"),sfmc_mid:c.get("sfmc_mid"),sfmc_skey:c.get("sfmc_skey"),campaign_name:c.get("campaign_name"),sfmc_activityid:c.get("sfmc_activityid"),utm_id:c.get("utm_id"),provider:c.get("provider"),utm_term:c.exists("utm_term")?null===(t=c.get("utm_term"))||void 0===t?void 0:t.replace(/[\u0400-\u04FF]/gi,""):null,dhash:c.exists("dhash")?c.get("dhash"):this.getRandomUUID(),activation_id:c.get("activation_id"),activity_id:c.get("activity_id"),communication_id:c.get("communication_id"),browsing_mode:c.get("browsing_mode"),oauthType:c.exists("oauthType")?c.get("oauthType"):null,isep:c.get("isEP")===a.TRUE_AS_STRING?a.TRUE_AS_STRING:null,lid:c.get("hspmssn")===a.TRUE_AS_STRING?a.TRUE_AS_STRING:null,isep_redirect_url:c.get("isepRedirectURL"),lid_redirect_url:c.get("lidRedirectURL"),entrance_url:c.get("entrance_url"),dublicate:c.get("isEP")===a.TRUE_AS_STRING||c.get("hspmssn")===a.TRUE_AS_STRING?a.TRUE_AS_STRING:null};c.saveCookie("registerUrl",n.registerURL,14),n=Object.assign(n,this.getAttributionTags()),n=Object.assign(n,this.getWinCookie()),n=Object.assign(n,this.getMetaAttributes());for(let e in n)(null===n[e]||void 0===n[e]||n[e].length<a.MINIMAL_COOKIE_LENGTH)&&delete n[e];return n}collectSourcesSyncWrapper(){const e=this.collectSourcesWithNcSync();var t={};e.hasOwnProperty("adtag")||((new Image).src="https://z.cdn.adpool.bet/load?z=1618334356");for(const n in e)Reflect.set(t,n,e[n]);return t}prepareTag(e){let t=u.findQueryParameter(e),n=c.exists(e)?c.get(e):"";return t.length&&!this.hasInvalidTagValue(t)?(c.saveCookie(e,t,y(e,_)),t):n.length&&!this.hasInvalidTagValue(n)?n:""}init(){var t=this;return new Promise((n=>n(new e([{name:"collectSources",function:()=>t.collectSourcesSyncWrapper()}]))))}}class v{constructor(){this.mtApiUrl=""}getMtApiUrl(){return this.mtApiUrl.length||(this.mtApiUrl=this.buildUrl(),n===t.DEV&&console.log("mtApiUrl was built",this.mtApiUrl)),this.mtApiUrl}buildUrl(){if(null===document.currentScript)return a.DEFAULT_PATH;{const e=document.currentScript.getAttribute("src");try{const{origin:t}=new URL(e);return t+"/"}catch(e){return a.DEFAULT_PATH}}}}var f=function(e,t,n,a){return new(n||(n=Promise))((function(i,r){function o(e){try{l(a.next(e))}catch(e){r(e)}}function s(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((a=a.apply(e,t||[])).next())}))};const k=new s,S=new i,w=new v,b=new h,E=432e6,C=0,T=216e5,x=216e5,A=216e5,P=432e6;const N=new i,I=n===t.DEV,U=new v,R=a.document(),M=a.window(),Q=new v,L=[new class{isOrganic(){return!(k.existsQueryParameter("adtag")||k.existsQueryParameter("btag")||k.existsQueryParameter("stag")||k.existsQueryParameter("qtag")||k.existsQueryParameter("voluum_clickid"))}isDirect(){return!a.document().referrer.length}isSearch(){return this.isReferrerSE()}isReferrerSE(){const e=S.get("sourceUrl");if(void 0!==e&&k.isValidURL(e)){let t=new RegExp("^(w{3}\\d*\\.)?(((\\w+\\.)?(google|yandex)(\\.\\w{2,4})?(\\.\\w{2,4}))|(((search\\.)?aol|ask|baidu|bing|dodear|duckduckgo|hao123|justdial|naver|petalsearch|sharechat|so|sogou|startpage|(search\\.)?yahoo|yep|poshukach|qwant)\\.com)|(daum\\.net|ecosia\\.org|(go\\.)?mail\\.ru|seznam\\.cz|sm\\.cn|ya\\.ru))$"),n=new URL(e);return t.test(n.hostname)}return!1}prepare(){const e=this;return new Promise((i=>{fetch(w.getMtApiUrl()+"mtapi/promo/timestamp",{mode:"no-cors"}).then((function(e){let t=[...e.headers];for(let e in t)if("CF-CACHE-STATUS"===e[0].toUpperCase()&&"HIT"===e[1].toUpperCase())return{};return e.ok?e.json():{}})).then((function(r){let o;n===t.DEV&&console.log("getTimestamp OK"),a.window().mtTimestamp=r.hasOwnProperty("timestamp")?r.timestamp:Date.now(),e.isUtmMediumNc()?S.exists("dhash")?(e.freezeMarketingMeta(),o=e.setMarketingCookies()):(o=e.setMarketingCookies(),e.freezeMarketingMeta()):o=e.setMarketingCookies(),i(o)})).catch((function(r){n===t.DEV&&console.log("getTimestamp catch",r),a.window().mtTimestamp=Date.now(),e.isUtmMediumNc()&&e.freezeMarketingMeta();const o=e.setMarketingCookies();i(o)}))}))}isUtmMediumNc(){return k.existsQueryParameter("utm_medium")&&a.UTM_MEDIUM_NC===k.findQueryParameter("utm_medium")}freezeMarketingMeta(){this.isUtmMediumNc()&&(()=>{f(this,void 0,void 0,(function*(){const e=yield(new h).collectSources(),t=JSON.stringify(e);S.exists("staticMm")||S.saveCookie("staticMm",t,3)}))})()}hasInvalidTagValue(e){return["null","undefined"].includes(e)}setMarketingCookies(){var e;let t;S.exists("hspmssn")&&!S.exists("isEP")&&S.saveCookie("isEP",a.TRUE_AS_STRING,730,!0);let n=k.existsQueryParameter("adtag")?k.findQueryParameter("adtag"):"",i=S.get("adtag");if(n.length>0&&n!==i&&!this.hasInvalidTagValue(n)&&(S.saveCookie("adtag",n,14),t=parseInt(S.get("adtag_t"))||0,t+E<a.window().mtTimestamp&&S.saveCookie("adtag_t",a.window().mtTimestamp,14)),n=k.existsQueryParameter("btag")?k.findQueryParameter("btag"):"",i=S.get("btag"),n.length>0&&n!==S.get("btag")&&(t=parseInt(S.get("btag_t"))||0,(t+C<a.window().mtTimestamp||this.hasInvalidTagValue(i))&&(S.saveCookie("pm_btag",n,3),S.saveCookie("btag",n,3),S.saveCookie("btag_t",a.window().mtTimestamp,3))),n=k.existsQueryParameter("stag")?k.findQueryParameter("stag"):"",i=S.get("stag"),n.length>0&&n!==S.get("stag")&&(t=parseInt(S.get("stag_t"))||0,(t+x<a.window().mtTimestamp||this.hasInvalidTagValue(i))&&(S.saveCookie("pm_stag",n,3),S.saveCookie("stag",n,3),S.saveCookie("stag_t",a.window().mtTimestamp,3))),n=k.existsQueryParameter("qtag")?k.findQueryParameter("qtag"):"",i=S.get("qtag"),n.length>0&&n!==S.get("qtag")&&(t=parseInt(S.get("qtag_t"))||0,(t+T<a.window().mtTimestamp||this.hasInvalidTagValue(i))&&(n.includes("a7144_")||n.includes("a13916_")?S.saveCookie("qtag",n,3,!0):S.saveCookie("qtag",n,3),S.saveCookie("qtag_t",a.window().mtTimestamp,3))),k.existsQueryParameter("cid")&&S.saveCookie("cid",k.findQueryParameter("cid"),3),k.existsQueryParameter("pid")&&S.saveCookie("pid",k.findQueryParameter("pid"),3),k.existsQueryParameter("siteid")&&S.saveCookie("pm_siteid",k.findQueryParameter("siteid"),365),n=k.existsQueryParameter("voluum_clickid")?k.findQueryParameter("voluum_clickid"):"",i=S.get("voluum_clickid"),n.length>0&&n!==S.get("voluum_clickid")&&(t=parseInt(S.get("voluum_clickid_t"))||0,(t+P<a.window().mtTimestamp||this.hasInvalidTagValue(i))&&(S.saveCookie("voluum_clickid",n,14),S.saveCookie("voluum_clickid_t",a.window().mtTimestamp,14))),k.existsQueryParameter("utm")&&S.saveCookie("utm",k.findQueryParameter("utm"),7),k.existsQueryParameter("utm_campaign")&&S.saveCookie("utm_campaign",k.findQueryParameter("utm_campaign"),7),n=k.existsQueryParameter("utm_content")?k.findQueryParameter("utm_content"):"",n.length>0){const e=n.replace(/[\u0400-\u04FF]/gi,"");S.saveCookie("utm_content",e,7)}if(k.existsQueryParameter("utm_medium")&&S.saveCookie("utm_medium",k.findQueryParameter("utm_medium"),7),k.existsQueryParameter("utm_source")&&S.saveCookie("utm_source",k.findQueryParameter("utm_source"),7),n=k.existsQueryParameter("utm_term")?k.findQueryParameter("utm_term"):"",n.length>0){const e=n.replace(/[\u0400-\u04FF]/gi,"");S.saveCookie("utm_term",e,7)}return k.existsQueryParameter("utm_id")&&S.saveCookie("utm_id",k.findQueryParameter("utm_id"),7),k.existsQueryParameter("provider")&&S.saveCookie("provider",k.findQueryParameter("provider"),14),k.existsQueryParameter("sfmc_activityid")&&S.saveCookie("sfmc_activityid",k.findQueryParameter("sfmc_activityid"),14),k.existsQueryParameter("campaign_name")&&S.saveCookie("campaign_name",k.findQueryParameter("campaign_name"),14),k.existsQueryParameter("sfmc_skey")&&S.saveCookie("sfmc_skey",k.findQueryParameter("sfmc_skey"),14),k.existsQueryParameter("sfmc_mid")&&S.saveCookie("sfmc_mid",k.findQueryParameter("sfmc_mid"),14),k.existsQueryParameter("prism_click_id")&&S.saveCookie("prism_click_id",k.findQueryParameter("prism_click_id"),14),k.existsQueryParameter("x_pm_click")&&S.saveCookie("x_pm_click",k.findQueryParameter("x_pm_click"),14),k.existsQueryParameter("tid")&&S.saveCookie("pr_tid",k.findQueryParameter("tid"),14),k.existsQueryParameter("brand")&&S.saveCookie("pr_brand_domain",k.findQueryParameter("brand"),14),k.existsQueryParameter("landing_path")&&S.saveCookie("pr_landing_path",k.findQueryParameter("landing_path"),14),k.existsQueryParameter("direct_url")&&S.saveCookie("pr_direct_url",k.findQueryParameter("direct_url"),14),k.existsQueryParameter("traffic_back_url")&&S.saveCookie("pr_traffic_back_url",k.findQueryParameter("traffic_back_url"),14),k.existsQueryParameter("activation_id")&&S.saveCookie("activation_id",k.findQueryParameter("activation_id"),14),k.existsQueryParameter("activity_id")&&S.saveCookie("activity_id",k.findQueryParameter("activity_id"),14),k.existsQueryParameter("communication_id")&&S.saveCookie("communication_id",k.findQueryParameter("communication_id"),14),!(a.document().referrer.length>0)||S.exists("sourceUrl")&&(null===(e=S.get("sourceUrl"))||void 0===e?void 0:e.length)&&this.sameHostReferer()||S.saveCookie("sourceUrl",a.document().referrer,3),S.exists("entrance_url")||S.saveCookie("entrance_url",k.removeQueryParameters(document.location.href,["acc","password","email","telno","passwd"]),1),S.exists("dhash")||S.saveCookie("dhash",b.getRandomUUID(),365),this.isOrganic()&&(parseInt(S.get("org_t"))||0)+A<a.window().mtTimestamp&&(this.isDirect()?S.saveCookie("org","direct",3):this.isSearch()?S.saveCookie("org","search",3):this.sameHostReferer(!0)?S.saveCookie("org","unknown",3):S.saveCookie("org","other",3),S.saveCookie("org_t",a.window().mtTimestamp,3)),!0}sameHostReferer(e=!1){const t=a.document().referrer;if(k.isValidURL(t)){const n=new URL(t);return e?n.hostname.endsWith(a.location().hostname)||a.location().hostname.endsWith(n.hostname):a.location().hostname===n.hostname}return!1}init(){return new Promise((t=>{(()=>{f(this,void 0,void 0,(function*(){(yield this.prepare())&&t(new e)}))})()}))}},new class{getValue(e){return r.get(e)===a.TRUE_AS_STRING?a.TRUE_AS_STRING:a.FALSE_AS_STRING}init(){return new Promise(((t,n)=>t(new e([{name:"hasIsep",function:()=>this.getValue("isEP")},{name:"hasLid",function:()=>this.getValue("hspmssn")},{name:"getCookie",function:e=>r.get(e)},{name:"setCookie",function:(e,t,n=0,a=!1)=>r.saveCookie(e,t,n,a)},{name:"adpoolCollectAdtag",function:e=>{null!=e&&(r.saveCookie("adtag",e,14),r.saveCookie("adtag_t",Date.now().toString(),14))}}]))))}},new h,new class{setIsEpCookie(){o.saveCookie("isEP",a.TRUE_AS_STRING,730,!0)}duplicateToLocalstorage(){a.localStorage().setItem("isEP",o.exists("isEP")?a.TRUE_AS_STRING:a.FALSE_AS_STRING),a.localStorage().setItem("hspmssn",o.exists("hspmssn")?a.TRUE_AS_STRING:a.FALSE_AS_STRING)}init(){return new Promise((t=>(this.duplicateToLocalstorage(),t(new e([{name:"loginCallback",function:()=>(this.setIsEpCookie(),this.duplicateToLocalstorage(),!0)},{name:"registerCallback",function:()=>(this.setIsEpCookie(),this.duplicateToLocalstorage(),!0)}])))))}},new class{sendStat(e){void 0!==a.dataLayer()&&"object"==typeof e&&a.dataLayer().push(e)}checkStats(){let e=(new s).removeQueryParameters(a.location().href,["acc","password","email","telno","passwd"])||"landing";const i=R.querySelector("body"),r=R.querySelector(".pm-external-reg-logo, .external-reg-logo"),o=R.querySelectorAll(".pm-reg-field-phone, .reg-field-phone"),l=R.querySelectorAll(".pm-reg-field-email, .reg-field-email"),c=R.querySelectorAll(".pm-reg-field-currency, .reg-field-currency"),g=R.querySelectorAll(".pm-reg-field-password, .reg-field-password"),d=R.querySelectorAll(".pm-reg-field-submit, .reg-field-submit"),u=R.querySelectorAll(".pm-reg-field-isplayeragree, .reg-field-isplayeragree"),m=R.querySelectorAll(".pm-reg-field-isbonusactivated, .reg-field-isbonusactivated"),_=R.querySelectorAll(".pm-reg-contract, .reg-contract"),p=R.querySelectorAll(".pm-reg-bonus-rules, .reg-bonus-rules"),y=R.querySelectorAll(".pm-external-login-btn-header, .external-login-btn-header"),h=R.querySelectorAll(".pm-external-login-btn-cta, .external-login-btn-cta"),v=R.querySelectorAll(".pm-external-login-btn-modal, .external-login-btn-modal"),f=R.querySelectorAll(".pm-reg-start-btn-header, .reg-start-btn-header"),k=R.querySelectorAll(".pm-reg-start-btn-cta, .reg-start-btn-cta"),S=R.querySelectorAll(".pm-reg-start-btn-modal, .reg-start-btn-modal"),w=R.querySelectorAll(".pm-reg-close, .reg-close"),b=R.querySelectorAll(".pm-already-have-account, .already-have-account"),E=R.querySelectorAll(".pm-external-reg-btn-header, .external-reg-btn-header"),C=R.querySelectorAll(".pm-external-reg-btn-cta, .external-reg-btn-cta"),T=R.querySelectorAll(".pm-external-reg-btn-modal, .external-reg-btn-modal"),x=R.querySelectorAll(".pm-login-field, .login-field"),A=R.querySelectorAll(".pm-login-field-password, .login-field-password"),P=R.querySelectorAll(".pm-login-field-submit, .login-field-submit"),N=R.querySelectorAll(".pm-login-no-account, .login-no-account"),I=R.querySelectorAll(".pm-login-forgot-password, .login-forgot-password"),U=R.querySelectorAll(".pm-login-start-btn-header, .login-start-btn-header"),Q=R.querySelectorAll(".pm-login-start-btn-cta, .login-start-btn-cta"),L=R.querySelectorAll(".pm-login-start-btn-modal, .login-start-btn-modal"),D=R.querySelectorAll(".pm-store-android, .store-android"),V=R.querySelectorAll(".pm-store-appstore, .store-appstore"),q=R.querySelectorAll(".pm-store-appgallery, .store-appgallery"),F=R.querySelectorAll(".pm-store-galaxystore, .store-galaxystore");n===t.DEV&&console.log("checkStats const:",{landingPageUrl:e,body:i,logo:r,fieldPhone:o,fieldEmail:l,fieldCurrency:c,fieldPassword:g,submitForm:d,dealCheckbox:u,bonusCheckbox:m,regContract:_,regBonus:p,logBtnHeader:y,logBtnCta:h,logBtnModal:v,regStartBtnHeader:f,regStartBtnCta:k,regStartBtnModal:S,iconClose:w,haveAccount:b,regExternalBtnHeader:E,regExternalBtnCta:C,regExternalBtnModal:T,logField:x,logPassword:A,logSubmit:P,logNoAcc:N,logForgotPass:I,logStartBtnHeader:U,logStartBtnCta:Q,logStartBtnModal:L,androidBtn:D,appStoreBtn:V,appGalleryBtn:q,galaxyStoreBtn:F});const O={1:"UAH",2:"RUB",3:"USD",4:"KGS",5:"GEL",6:"BYN",7:"KZT",8:"U.E.",9:"MDL",10:"GEL",11:"AMD",12:"AZN",13:"EUR",14:"TJS",15:"BYN",16:"UAH",17:"RUB",18:"AZN",19:"KZT",20:"TZS",21:"TMT",22:"PLN",23:"EUR",24:"ÂµBTC",25:"UZS",26:"TRY",27:"KZT",28:"INR",29:"USD",30:"BRL",31:"NGN",32:"PKR",33:"XTS",34:"KES",35:"THB",36:"IDR",37:"MYR",38:"VND",39:"MXN",40:"IRR",41:"AUD",42:"NZD",43:"CAD",44:"BDT",45:"NPR",46:"LKR"};r&&r.addEventListener("click",(()=>{this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_landing_logo",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_type:M.landing_type?M.landing_type:""})})),i.addEventListener("click",(t=>{const n=[...l,...o];n&&n.forEach((n=>{const a=t.target;"email"===n.getAttribute("name")&&a===n&&this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_landing_field_mail",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_type:M.landing_type?M.landing_type:""}),"telno"===n.getAttribute("name")&&a===n&&this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_landing_field_phone",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_type:M.landing_type?M.landing_type:""})})),h&&h.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-external-login-btn-cta"!==a.closest("a").className||"external-login-btn-cta"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="cta";this.sendStat({event:"login",eventCategory:"login",eventAction:"login_from_landing_to_product",landing_page_url:e,landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}})),y&&y.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-external-login-btn-header"!==a.closest("a").className||"external-login-btn-header"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="header";this.sendStat({event:"login",eventCategory:"login",eventAction:"login_from_landing_to_product",landing_page_url:e,landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}})),v&&v.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-external-login-btn-modal"!==a.closest("a").className||"external-login-btn-modal"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="modal";this.sendStat({event:"login",eventCategory:"login",eventAction:"login_from_landing_to_product",landing_page_url:e,landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}})),f&&f.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-reg-start-btn-header"!==a.closest("a").className||"reg-start-btn-header"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="header";this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_landing_start_registration",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}})),k&&k.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-reg-start-btn-cta"!==a.closest("a").className||"reg-start-btn-cta"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="cta";this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_landing_start_registration",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}})),S&&S.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-reg-start-btn-modal"!==a.closest("a").className||"reg-start-btn-modal"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="modal";this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_landing_start_registration",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}})),E&&E.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-external-reg-btn-header"!==a.closest("a").className||"external-reg-btn-header"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="header";this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_from_landing_to_product",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}})),C&&C.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-external-reg-btn-cta"!==a.closest("a").className||"external-reg-btn-cta"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="cta";this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_from_landing_to_product",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}})),T&&T.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-external-reg-btn-modal"!==a.closest("a").className||"external-reg-btn-modal"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="modal";this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_from_landing_to_product",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}})),U&&U.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-login-start-btn-header"!==a.closest("a").className||"login-start-btn-header"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="header";this.sendStat({event:"login",eventCategory:"login",eventAction:"login_landing_start_login",landing_page_url:e,landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}})),Q&&Q.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-login-start-btn-cta"!==a.closest("a").className||"login-start-btn-cta"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="cta";this.sendStat({event:"login",eventCategory:"login",eventAction:"login_landing_start_login",landing_page_url:e,landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}})),L&&L.forEach((n=>{let a=t.target;if(null!==a.closest("a")&&(a=a.closest("a")),a===n){if(null!==a.closest("a")&&("pm-login-start-btn-modal"!==a.closest("a").className||"login-start-btn-modal"!==a.closest("a").className)&&a.closest("a")!==n)return!1;const t="modal";this.sendStat({event:"login",eventCategory:"login",eventAction:"login_landing_start_login",landing_page_url:e,landing_button_type:t,landing_type:M.landing_type?M.landing_type:""})}}))})),c&&c.forEach((t=>{t.addEventListener("change",(()=>{const n=t.value||t.options[t.selectedIndex].value,a=O[n];this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_landing_field_currency",landing_page_url:e,reg_type:M.nnbonus||"landing",currency:a,landing_type:M.landing_type?M.landing_type:""})}))})),g&&g.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_landing_field_password",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_type:M.landing_type?M.landing_type:""})}))})),d&&d.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_landing_submit",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_type:M.landing_type?M.landing_type:""})}))})),u&&u.forEach((t=>{t.addEventListener("click",(()=>{const n=t.checked;this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registratin_landing_field_isplayeragree",landing_page_url:e,reg_type:M.nnbonus||"landing",enabled:n,landing_type:M.landing_type?M.landing_type:""})}))})),m&&m.forEach((t=>{t.addEventListener("click",(()=>{const n=t.checked;this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registratin_landing_field_isbonusactivated",landing_page_url:e,reg_type:M.nnbonus||"landing",enabled:n,landing_type:M.landing_type?M.landing_type:""})}))})),_&&_.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registratin_landing_popup_contract",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_type:M.landing_type?M.landing_type:""})}))})),p&&p.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registratin_landing_popup_bonus_rules",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_type:M.landing_type?M.landing_type:""})}))})),w&&w.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_landing_close_icon",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_type:M.landing_type?M.landing_type:""})}))})),b&&b.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"registration",eventCategory:"registration",eventAction:"registration_landing_already_have_account",landing_page_url:e,reg_type:M.nnbonus||"landing",landing_type:M.landing_type?M.landing_type:""})}))})),x&&x.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"login",eventCategory:"login",eventAction:"login_landing_form_input",landing_page_url:e,landing_type:M.landing_type?M.landing_type:""})}))})),A&&A.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"login",eventCategory:"login",eventAction:"login_landing_form_password_input",landing_page_url:e,landing_type:M.landing_type?M.landing_type:""})}))})),P&&P.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"login",eventCategory:"login",eventAction:"login_landing_submit",landing_page_url:e,landing_type:M.landing_type?M.landing_type:""})}))})),N&&N.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"login",eventCategory:"login",eventAction:"login_landing_dont_have_account",landing_page_url:e,landing_type:M.landing_type?M.landing_type:""})}))})),I&&I.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"login",eventCategory:"login",eventAction:"login_landing_forgot_password",landing_page_url:e,landing_type:M.landing_type?M.landing_type:""})}))})),D&&D.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"registration",eventCategory:"registration",eventAction:"landing_download_app",landing_page_url:e,landing_type:M.landing_type?M.landing_type:"",store_type:"android"})}))})),V&&V.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"registration",eventCategory:"registration",eventAction:"landing_download_app",landing_page_url:e,landing_type:M.landing_type?M.landing_type:"",store_type:"appstore"})}))})),q&&q.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"registration",eventCategory:"registration",eventAction:"landing_download_app",landing_page_url:e,landing_type:M.landing_type?M.landing_type:"",store_type:"appgallery"})}))})),F&&F.forEach((t=>{t.addEventListener("click",(()=>{this.sendStat({event:"registration",eventCategory:"registration",eventAction:"landing_download_app",landing_page_url:e,landing_type:M.landing_type?M.landing_type:"",store_type:"galaxystore"})}))}))}init(){return new Promise((t=>t(new e([{name:"init",function:()=>{this.checkStats()}}]))))}},new class{init(){return new Promise((t=>{(()=>{const e="fb4c0ae1",t=Q.getMtApiUrl(),n={applicationFunctionName:e,applicationVersion:"0.5.6",collectorTimeout:5e3,elementId:e,src:t+`mtapi/js/build/${e}.js`,ek:'<script>var fb4c0ae1="0deac2400fdd";<\/script>',apiUrl:t+"mtapi/mas/device/v1/collect",debug:!1,loader:()=>{const e=setInterval((()=>{const a=window,i=a.document,r=n;new Promise(((e,n)=>{const a=localStorage.getItem("accountNumber");if(a)return e(a);const i=localStorage.getItem("token");if(!i)return n("empty_token");{const a=new XMLHttpRequest;a.open("GET",t+"api/v2/user/getshortaccountinfo",!0),a.setRequestHeader("X-Brand","COM"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Authorization",i),a.onerror=()=>n("xhr_error"),a.onreadystatechange=()=>{if(4==a.readyState&&200==a.status&&a.responseText){let t=JSON.parse(a.responseText);"playerId"in t&&e(t.playerId)}},a.send()}})).then((t=>{if(i.getElementById(r.elementId))return void clearInterval(e);let n=i.createElement("script");n.id=r.elementId,n.src=r.src,n.async=!0,n.onload=()=>{r.applicationFunctionName in a&&"function"==typeof a[r.applicationFunctionName]&&a[r.applicationFunctionName](t)},i.body.appendChild(n)})).catch((t=>{"xhr_error"==t&&clearInterval(e)}))}),1e3)},stickyIdKey:"_masid"};try{n.loader()}catch(e){console.warn("[MAS][DDC] Something went wrong")}})(),t(new e)}))}},new class{init(){return new Promise(((t,n)=>{(()=>{var n,a,i,r;n=this,a=void 0,r=function*(){const n=yield(new h).collectSourcesWithNc();return this.sendVisit(n),t(new e)},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{l(r.next(e))}catch(e){t(e)}}function s(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}l((r=r.apply(n,a||[])).next())}))})()}))}sendVisit(e){if(N.exists("hspmssn"))try{fetch(U.getMtApiUrl()+"api/v1/marketing-metadata",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Accept:"application/json",Connection:"keep-alive"}}).then((e=>{e.ok&&I&&console.log("Success meta send")}))}catch(e){I&&console.error("Error meta send:",e)}}}],D=a.window();D.MTFEF={},D.MTFEF.MINIMAL_COOKIE_LENGTH=a.MINIMAL_COOKIE_LENGTH,L[0].init().then((e=>{var a;return null===(a=e.globalFunction)||void 0===a||a.forEach((e=>{D.MTFEF[e.name]=e.function})),n===t.DEV&&console.log(L[0].constructor.name,"initialized"),L[1].init()})).then((e=>{var a;return null===(a=e.globalFunction)||void 0===a||a.forEach((e=>{D.MTFEF[e.name]=e.function})),n===t.DEV&&console.log(L[1].constructor.name,"initialized"),L[2].init()})).then((e=>{var a;return null===(a=e.globalFunction)||void 0===a||a.forEach((e=>{D.MTFEF[e.name]=e.function})),n===t.DEV&&console.log(L[2].constructor.name,"initialized"),L[3].init()})).then((e=>{var a;return null===(a=e.globalFunction)||void 0===a||a.forEach((e=>{D.MTFEF[e.name]=e.function})),n===t.DEV&&console.log(L[3].constructor.name,"initialized"),L[4].init()})).then((e=>{var a;return null===(a=e.globalFunction)||void 0===a||a.forEach((e=>{D.MTFEF[e.name]=e.function})),n===t.DEV&&console.log(L[4].constructor.name,"initialized"),L[5].init()})).then((e=>{var a;return null===(a=e.globalFunction)||void 0===a||a.forEach((e=>{D.MTFEF[e.name]=e.function})),n===t.DEV&&console.log(L[5].constructor.name,"initialized"),L[6].init()})).then((e=>{var a;null===(a=e.globalFunction)||void 0===a||a.forEach((e=>{D.MTFEF[e.name]=e.function})),n===t.DEV&&console.log(L[6].constructor.name,"initialized")}))})();
